@model Website.Pages.BasketViewModel

<div class="card" style="width: 50%">
    <div class="card-body">
        <h3 class="card-title">Store Name: @Model.Basket.Store.Name</h3>
        <form method="post">
            <div style="display: flex;">
                <input type="hidden" name="StoreName" value="@Model.Basket.Store.Name">
                <button asp-page-handler="Billing" value="Billing">Go to the Billing Screen!</button>
            </div>
            @{
                double sum = 0;
                foreach (var product in Model.Basket.Products)
                {
                    string name = product.Item1.Name;
                    int quantity = product.Item2;
                    sum += quantity * product.Item1.Price;
                    var priceOfProd = quantity * product.Item1.Price;
                    <div>
                        <div><h5>Product: @name</h5></div>
                        <div><h6>Price per unit: @product.Item1.Price ₪</h6></div>
                        <div><h6>Quantity: @quantity</h6></div>
                        <div><h6>Price: @quantity * @product.Item1.Price ₪ = @priceOfProd ₪</h6></div>
                        <input type="hidden" name="StoreName" value="@Model.Basket.Store.Name">
                        <input type="hidden" name="ProductName" value="@name">
                        <input type="hidden" name="Quantity" value="@quantity">
                        <button asp-page-handler="RemoveFromCart" value="Remove">Remove From Cart</button>
                    </div>
                }
                <h4>Cost of this basket: @sum</h4>
            }
        </form>
    </div>
    <text class="alert-danger">@Model.ErrorMsg</text>
</div>